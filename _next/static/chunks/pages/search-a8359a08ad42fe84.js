(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{35243:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return e(22009)}])},15156:function(n,t){"use strict";t.Z={src:"/_next/static/media/back-arrow.b3858ba9.png",height:141,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAMAAAAGL8UJAAAAIVBMVEX///////9MaXH////////////////+/v7///////////8o5T/FAAAAC3RSTlP+QAADTzJkeiaUjAS6YtIAAAAJcEhZcwAAITgAACE4AUWWMWAAAAAqSURBVHicFcm5EQAwDMMwmnLe/QfOpUEDjDWIzcRmyScUV7E4EutvHPsBCu0Aeek308UAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8}},22009:function(n,t,e){"use strict";e.r(t),e.d(t,{SearchPage:function(){return ng},default:function(){return nx},styles:function(){return nh}});var r=e(82729),i=e(85893),o=e(81743),a=e(67294),l=e(25675),u=e.n(l),d=e(41686),c=e(23332),s=e(27595),h={src:"/_next/static/media/recent-icon.177516e7.png",height:40,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVMaXH////////////////////////////////////////////////c+C/6AAAADXRSTlMAWb6gT5ULsmtC8y0bGUNfJgAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAADZJREFUeJwVxkkSgDAQA7G2Z03g/++l0El0n6oE8lpyge5u4yQf/KIghOuPhq4MQcw5DgDNLHwizQDnBwzMOgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},g=e(20518),x=e(15156),f=e(11163),p=e(8400),b=e.n(p),w=e(23279),v=e.n(w),m=e(84238),A=e.n(m),C=e(9473),y=e(28827),j=e(61962),_=e(96486),k=e.n(_),O=e(33708),T=e(74784),Z=e(76160),P=e(30888);function S(){let n=(0,r._)(["\n    max-height: 100vh;\n    height: 100vh;\n    max-width: 100vw;\n    width: 100%;\n    background-image: url(",");\n    background-color: ",";\n    background-repeat: no-repeat;\n    object-fit: cover;\n    object-position: center;\n    background-size: cover;\n    overflow: hidden;\n  "]);return S=function(){return n},n}function R(){let n=(0,r._)(["\n    max-height: 100vh;\n    height: 100vh;\n    max-width: 100vw;\n    width: 100%;\n    padding: 2vw;\n  "]);return R=function(){return n},n}function F(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  "]);return F=function(){return n},n}function L(){let n=(0,r._)(["\n    height: 3.7vw;\n    width: 100%;\n    color: ",";\n    border-radius: 30px;\n    padding: 24px;\n    font-size: 2.2vw;\n    border-color: rgba(255, 137, 52, 1);\n    background-color: rgba(255, 137, 52, 1);\n    outline: none;\n    box-shadow: 0 0 1px rgba(255, 137, 52, 1);\n    &::placeholder {\n      color: rgba(255, 222, 172, 1);\n    }\n    &:focus {\n      border-color: rgba(255, 137, 52, 1);\n      box-shadow: 0 0 1px rgba(255, 137, 52, 1);\n    }\n    @media (max-width: 500px) {\n      font-size: 4vw;\n    }\n  "]);return L=function(){return n},n}function z(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin-top: 2vh;\n  "]);return z=function(){return n},n}function E(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    padding-left: 5vw;\n    padding-right: 3vw;\n    width: 60%;\n    @media (max-width: 500px) {\n      width: 100%;\n    }\n  "]);return E=function(){return n},n}function B(){let n=(0,r._)(["\n    height: 80vh;\n    overflow: auto;\n    width: 100%;\n  "]);return B=function(){return n},n}function U(){let n=(0,r._)(["\n    padding-bottom: 0.8vh;\n    margin-bottom: 0.8vh;\n    width: 100%;\n    border-bottom: 2px solid ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: start;\n    background-color: ",";\n    &:hover {\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n      // padding: 8px;\n      // border: 2px solid ",";\n      background-color: rgba(255, 137, 52, 1);\n    }\n    &:focus {\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n      // padding: 8px;\n      // border: 2px solid ",";\n      background-color: rgba(255, 137, 52, 1);\n    }\n  "]);return U=function(){return n},n}function D(){let n=(0,r._)(["\n    font-size: 2vw;\n    font-weight: 500;\n    text-align: left;\n    color: ",";\n  "]);return D=function(){return n},n}function I(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    padding-left: 2vw;\n    padding-right: 8vw;\n    margin-top: -1vh;\n    width: 50%;\n  "]);return I=function(){return n},n}function V(){let n=(0,r._)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 2vh;\n  "]);return V=function(){return n},n}function N(){let n=(0,r._)(["\n    flex-grow: 1;\n    flex-basis: 14.28%;\n    max-width: 14.28%;\n    box-sizing: border-box;\n    color: ",";\n    padding: 8px;\n    border: 2px solid ",";\n    &:hover {\n      background-color: ",";\n      color: ",";\n      border-radius: 8px;\n      // border: 2px solid ",";\n    }\n    &:focus {\n      outline: none;\n      border-radius: 8px;\n      // border: 2px solid ",";\n    }\n  "]);return N=function(){return n},n}function J(){let n=(0,r._)(["\n    font-size: 2vw;\n    font-weight: 700;\n\n    text-align: center;\n    margin: 0.5vh;\n  "]);return J=function(){return n},n}function M(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    gap: 1vw;\n    margin-top: 2vh;\n    padding-left: 2vw;\n    padding-right: 2vw;\n  "]);return M=function(){return n},n}function W(){let n=(0,r._)(["\n    display: flex;\n    justify-content: center;\n    padding: 0.5vh;\n    background-color: rgba(255, 137, 52, 1);\n    border-radius: 8px;\n    width: 32%;\n    border: 2px solid ",";\n    &:hover {\n      background-color: ",";\n      border: 2px solid ",";\n    }\n    &:focus {\n      outline: none;\n      border: 2px solid ",";\n    }\n  "]);return W=function(){return n},n}function H(){let n=(0,r._)(["\n    font-size: 1.3vw;\n    font-weight: 600;\n    color: ",";\n  "]);return H=function(){return n},n}function K(){let n=(0,r._)(["\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    right: 3vw;\n    gap: 1vh;\n    margin-top: 4vh;\n  "]);return K=function(){return n},n}function Q(){let n=(0,r._)(["\n    padding: 8px;\n    display: flex;\n    justify-content: center;\n    border: 2px solid ",";\n    &:hover {\n      background-color: ",";\n      color: ",";\n      border-radius: 8px;\n      // border: 2px solid ",";\n    }\n    &:focus {\n      outline: none;\n      border-radius: 8px;\n      // border: 2px solid ",";\n    }\n  "]);return Q=function(){return n},n}function G(){let n=(0,r._)(["\n    font-size: 2vw;\n    font-weight: 700;\n    text-align: center;\n    margin: 0.5vh;\n  "]);return G=function(){return n},n}function X(){let n=(0,r._)(["\n    display: flex;\n    overflow-x: auto;\n    scroll-snap-type: x mandatory;\n    -webkit-overflow-scrolling: touch; /* Smooth scrolling for iOS */\n    width: 100%;\n    margin-top: 6vh;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n  "]);return X=function(){return n},n}function q(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n  "]);return q=function(){return n},n}function Y(){let n=(0,r._)(["\n    border-radius: 16px;\n    background: url(",");\n    background-repeat: no-repeat;\n    object-fit: cover;\n    object-position: center;\n    background-size: cover;\n    background-color: ",";\n    width: 28vw;\n    height: 16vw;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.2);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  "]);return Y=function(){return n},n}function $(){let n=(0,r._)(["\n    width: 28vw;\n    height: 5vw;\n    border-radius: 16px;\n    background: linear-gradient(to top, ",", ",");\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 0.2vw 1vw;\n  "]);return $=function(){return n},n}function nn(){let n=(0,r._)(["\n    width: 27vw;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding-right: 1.5vw;\n  "]);return nn=function(){return n},n}function nt(){let n=(0,r._)(["\n    width: 7vw;\n    border-radius: 0px 0px 8px 8px;\n    height: 1.7vw;\n    background-color: ",";\n    margin-right: 8px;\n  "]);return nt=function(){return n},n}function ne(){let n=(0,r._)(["\n    width: 2vw;\n    border-radius: 0px 0px 8px 8px;\n    height: 1.7vw;\n    background-color: ",";\n  "]);return ne=function(){return n},n}function nr(){let n=(0,r._)(["\n    font-size: 1vw;\n    font-weight: 700;\n    color: ",";\n  "]);return nr=function(){return n},n}function ni(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 8px;\n  "]);return ni=function(){return n},n}function no(){let n=(0,r._)(["\n    font-size: 1vw;\n    font-weight: 700;\n    margin-right: 16px;\n    color: ",";\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  "]);return no=function(){return n},n}function na(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 8px;\n  "]);return na=function(){return n},n}function nl(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 4px;\n  "]);return nl=function(){return n},n}function nu(){let n=(0,r._)(["\n    font-size: 0.8vw;\n    font-weight: 700;\n    color: ",";\n  "]);return nu=function(){return n},n}function nd(){let n=(0,r._)(["\n    font-size: 0.7vw;\n    font-weight: 500;\n    color: ",";\n  "]);return nd=function(){return n},n}function nc(){let n=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 1vw;\n    background-color: rgba(255, 137, 52, 1);\n    border-radius: 40px;\n    padding: 8px 16px;\n    margin-top: 8px;\n    border: 2px solid ",";\n    &:hover {\n      border: 2px solid ",";\n    }\n    &:focus {\n      outline: none;\n      border: 2px solid ",";\n    }\n  "]);return nc=function(){return n},n}function ns(){let n=(0,r._)(["\n    font-size: 2vw;\n    color: ",";\n    text-align: left;\n  "]);return ns=function(){return n},n}let nh={buttonBack:{padding:"8px",borderRadius:"16px"},buttonSearchContainer:{flex:1,borderRadius:"30px",padding:0,marginLeft:"2vw"},buttonRecentSearch:{display:"flex",flexDirection:"row",alignItems:"center",gap:"1vw",backgroundColor:"rgba(255, 137, 52, 1)",borderRadius:"40px",padding:"8px 16px",marginTop:"8px"},buttonSuggestionSearch:{paddingBottom:"0.8vh",marginBottom:"0.8vh",width:"100%",borderBottom:"2px solid ".concat(o.O.white),display:"flex",flexDirection:"column",justifyContent:"start",padding:"8px",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",borderBottomLeftRadius:0,borderBottomRightRadius:0},buttonThumbnailVideo:{flex:"0 0 auto",scrollSnapAlign:"start",marginRight:16,marginBottom:16,padding:0}},ng={Container:d.ZP.main(S(),s.Z.src,o.O.orange2),Content:d.ZP.div(R()),TopContainer:d.ZP.div(F()),Search:d.ZP.input(L(),o.O.white),ContainerContent:d.ZP.div(z()),ContainerLeft:d.ZP.div(E()),ContainerList:d.ZP.div(B()),List:d.ZP.button(U(),o.O.white,o.O.transparent,o.O.white,o.O.white),TextList:d.ZP.p(D(),o.O.white),ContainerRight:d.ZP.div(I()),ContainerListKeyboard:d.ZP.div(V()),ListKeyboard:d.ZP.button(N(),o.O.white,o.O.transparent,o.O.white,o.O.orange2,o.O.white,o.O.white),TextItem:d.ZP.h2(J()),ContainerButton:d.ZP.div(M()),ButtonKeyboad:d.ZP.button(W(),o.O.transparent,o.O.orange2,o.O.white,o.O.white),TextButton:d.ZP.h4(H(),o.O.white),ActionRight:d.ZP.div(K()),ButtonAction:d.ZP.button(Q(),o.O.transparent,o.O.white,o.O.orange2,o.O.white,o.O.white),TextAction:d.ZP.h2(G()),SliderContainer:d.ZP.div(X()),ContainerColumn:d.ZP.div(q()),Card:d.ZP.div(Y(),n=>n.background,o.O.background),CardBg:d.ZP.div($(),o.O.black,o.O.transparent),ListFlag:d.ZP.div(nn()),ContainerFlag:d.ZP.div(nt(),o.O.orange2),ContainerFlaLang:d.ZP.div(ne(),n=>n.bg),TextFLag:d.ZP.h6(nr(),o.O.white),ContainerTitleCard:d.ZP.div(ni()),TitleCard:d.ZP.h5(no(),o.O.white),ContainerTime:d.ZP.div(na()),ContainerLike:d.ZP.div(nl()),TitleTime:d.ZP.h6(nu(),o.O.white),TitleLike:d.ZP.p(nd(),o.O.white),ContainerRecent:d.ZP.button(nc(),o.O.transparent,o.O.white,o.O.white),TextRecent:d.ZP.h4(ns(),o.O.white)};var nx=()=>{let n=(0,f.useRouter)(),t=(0,C.I0)(),{userData:e,limitFreeVideo:r,isLogin:l}=(0,C.v9)(n=>n.auth),{recentSearch:d}=(0,C.v9)(n=>n.home),[s,p]=(0,a.useState)(!0),[w,m]=(0,a.useState)(!1),[_,S]=(0,a.useState)(!1),[R,F]=(0,a.useState)({}),[L,z]=(0,a.useState)(!1),[E,B]=(0,a.useState)([]),[U,D]=(0,a.useState)(!1),[I,V]=(0,a.useState)([]),[N,J]=(0,a.useState)(""),[M,W]=(0,a.useState)(!1),H=(0,a.useRef)(null),K=(0,a.useRef)(null),Q=(0,a.useRef)(null),G=(0,a.useCallback)(()=>{let n=r-1;t((0,y.J0)(n<0?0:n))},[r,t]),X=(0,a.useCallback)(async n=>{D(!0),V([]);let t=await (0,j.nJ)(n);if(null==t?void 0:t.data){let n=null==t?void 0:t.data.data;V(k().map(n,n=>({...n,type:(null==n?void 0:n.primary_collection_id)?"video":"characters"})))}D(!1)},[]),q=(0,a.useCallback)(async r=>{let i=await (0,j.FR)(r||"");if((null==i?void 0:i.data)&&l){let r=null==i?void 0:i.data.data;r?(((null==e?void 0:e.auth_type)==="guest"||(null==e?void 0:e.status)!=="ACTIVE")&&G(),t((0,O.qK)({data:r})),n.push("/video-play")):n.push("/auth/subscribe")}},[G,e]),Y=(0,a.useCallback)(async t=>{let e=await (0,j.mJ)(t||"");(null==e?void 0:e.data)&&("NOT_FOR_FREE_VIEW"===e.data.data.status?S(!0):n.push("/auth/subscribe"))},[]),$=(0,a.useCallback)(async n=>{let t=await (0,j.Gg)(n);if(null==t?void 0:t.data){let n=t.data.data;B(k().flatMap(n,(n,t)=>n.map(n=>({...n,type:t.slice(0,-1)}))))}z(!1)},[]),nn=(0,a.useCallback)(v()(n=>$(n),5e3),[]),nt=(0,a.useCallback)(n=>{J(n=(n=n.replace(/^\s+/g,"")).replace(/\s+/g," ")),z(!0),A()(n.trim())>1?nn(n):(z(!1),B([])),0===A()(n)&&J("")},[nn]),ne=(0,a.useCallback)(n=>{if(!d.some(t=>t._id===n._id)){let e=[n,...d.slice(0,9)];t((0,O.AZ)(e))}},[t,d]),nr=(0,a.useCallback)(n=>{m(!1),(null==e?void 0:e.auth_type)==="guest"||(null==e?void 0:e.status)!=="ACTIVE"?q(null==R?void 0:R._id):q(null==n?void 0:n._id)},[e,null==R?void 0:R._id,j.FR]),ni=(0,a.useCallback)(t=>{let{_id:r,type:i}=t;"video"===i?(F(t),(null==e?void 0:e.auth_type)==="guest"||(null==e?void 0:e.status)!=="ACTIVE"?Y(r):nr(t)):n.push({pathname:"/dashboard",query:{collection_id:r}})},[j.mJ,nr,e]),no=n=>{if(K.current){var t,e;let r=(null===(e=K.current)||void 0===e?void 0:null===(t=e.children[0])||void 0===t?void 0:t.clientHeight)||0;K.current.scrollTo({top:n*r,behavior:"smooth"})}},na=n=>{if(Q.current){var t,e;let r=(null===(e=Q.current)||void 0===e?void 0:null===(t=e.children[0])||void 0===t?void 0:t.clientWidth)||0;Q.current.scrollTo({left:n*r,behavior:"smooth"})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.Fb,{title:"Durioo+ | Search"}),(0,i.jsxs)(ng.Container,{children:[(0,i.jsxs)(ng.Content,{children:[(0,i.jsxs)(ng.TopContainer,{children:[(0,i.jsx)(P.zx,{underlayColor:"rgba(255, 137, 52, 1)",style:nh.buttonBack,onClick:()=>n.back(),children:(0,i.jsx)(u(),{alt:"back",src:x.Z,style:{width:"3vw",height:"auto"}})}),(0,i.jsx)(P.zx,{isFirst:!0,underlayColor:o.O.transparent,style:nh.buttonSearchContainer,onClick:()=>H.current&&H.current.focus(),onBlur:()=>H.current&&H.current.blur(),children:(0,i.jsx)(ng.Search,{ref:H,value:N,onChange:n=>{nt(n.target.value),p(!0)},placeholder:"Search Durioo+"})})]}),s?(0,i.jsx)(ng.ContainerContent,{children:(0,i.jsx)(ng.ContainerLeft,{children:(0,i.jsx)(ng.ContainerList,{ref:K,children:0==A()(N.trim())?(0,i.jsx)(i.Fragment,{children:d&&d.map((n,t)=>{let{title:e,name:r,type:o}=n;return o?(0,i.jsxs)(P.zx,{style:nh.buttonRecentSearch,onClick:()=>{ni(n)},onFocus:()=>no(t),children:[(0,i.jsx)(u(),{alt:"recent",src:h,style:{width:"2.2vw",height:"auto"}}),(0,i.jsx)(ng.TextRecent,{children:e||r})]},t):(0,i.jsx)("div",{},t)})}):(0,i.jsx)(i.Fragment,{children:L?(0,i.jsx)(i.Fragment,{children:Array.from({length:5},(n,t)=>(0,i.jsx)("div",{className:"bg-gray-200 animate-pulse h-[4vw] sm:h-[2.4vw] rounded-lg w-full mt-5"},t))}):(0,i.jsx)(i.Fragment,{children:0===A()(E)?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(ng.List,{children:(0,i.jsx)(ng.TextList,{children:" search result not found"})})}):(0,i.jsx)(i.Fragment,{children:E.map((n,t)=>(0,i.jsx)(P.zx,{underlayColor:"rgba(255, 137, 52, 1)",style:nh.buttonSuggestionSearch,onClick:()=>{J(n.title||n.name),p(!1),ne(n),X(n)},onFocus:()=>no(t),children:(0,i.jsx)(ng.TextList,{children:n.title||n.name})},t))})})})})})}):(0,i.jsx)(ng.SliderContainer,{ref:Q,children:U?(0,i.jsx)(i.Fragment,{children:b()([1,2,3,4,5,6,7,8,9,10,11,12,13,14],2).map((n,t)=>(0,i.jsx)(ng.ContainerColumn,{children:n.map((n,t)=>(0,i.jsx)(ng.ContainerColumn,{children:(0,i.jsx)("div",{className:"bg-gray-200 mr-4 animate-pulse h-[14vw] w-[23vw] rounded-md mt-5"})},t))},t))}):(0,i.jsx)(i.Fragment,{children:I&&b()(I,2).map((n,t)=>(0,i.jsx)(ng.ContainerColumn,{children:n.map((n,e)=>(0,i.jsx)(ng.ContainerColumn,{children:(0,i.jsx)(P.zx,{isFirst:!s&&0==t&&0===e,style:nh.buttonThumbnailVideo,borderColor:"3px solid ".concat(o.O.white),borderWidth:"3px",onClick:()=>{ni(n)},onFocus:()=>na(t),children:(0,i.jsxs)(ng.Card,{background:null==n?void 0:n.image_thumbnail,children:[(0,i.jsxs)(ng.ListFlag,{children:[(0,i.jsx)("div",{}),(0,i.jsxs)("div",{className:"flex flex-row",children:[(null==n?void 0:n.is_new)&&(0,i.jsx)(ng.ContainerFlag,{children:(0,i.jsx)(ng.TextFLag,{children:"New Release"})}),(null==n?void 0:n.content_language)&&(0,i.jsx)(ng.ContainerFlaLang,{bg:(0,T.Ou)(null==n?void 0:n.content_language),children:(0,i.jsx)(ng.TextFLag,{children:n.content_language})})]})]}),(0,i.jsxs)(ng.CardBg,{children:[(0,i.jsx)("div",{}),(0,i.jsxs)("div",{className:"flex flex-row justify-between mb-1",children:[(0,i.jsxs)(ng.ContainerTitleCard,{children:[(0,i.jsx)(u(),{alt:"btn-play",src:g.Z,style:{height:"1.1vw",width:"auto",marginRight:8}}),(0,i.jsx)(ng.TitleCard,{children:n.title||"-"})]}),(0,i.jsxs)(ng.ContainerTime,{children:[(0,i.jsx)(ng.TitleTime,{children:(0,T.yh)(n.duration||0)}),(0,i.jsxs)(ng.ContainerLike,{children:[(0,i.jsx)(u(),{alt:"btn-play",src:c.Z,style:{height:"0.8vw",width:"auto"}}),(0,i.jsx)(ng.TitleLike,{children:(0,T.LD)(n.love_counts||0)})]})]})]})]})]})})},e))},t))})})]}),_&&(0,i.jsx)(Z.wI,{})]})]})}}},function(n){n.O(0,[662,61,160,888,774,179],function(){return n(n.s=35243)}),_N_E=n.O()}]);